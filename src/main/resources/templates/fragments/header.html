<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:fragment="header">
    <header class="main-header">
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <a href="/">
                        <img src="/images/logo.png" alt="Equilíbrio Finance" class="logo-img">
                        <span class="logo-text">Equilíbrio Finance</span>
                    </a>
                </div>
                
                <button class="mobile-menu-toggle" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                
                <ul class="nav-menu">
                    <li><a href="/" class="nav-link">Início</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle">Organizar</a>
                        <ul class="dropdown-menu">
                            <li><a href="/controle/gastos">Controle de Gastos</a></li>
                            <li><a href="/controle/receitas">Controle de Receitas</a></li>
                            <li><a href="/controle/metas">Metas Financeiras</a></li>
                        </ul>
                    </li>
                    <li><a href="/ferramentas" class="nav-link">Ferramentas</a></li>
                    <li><a href="/blog" class="nav-link">Blog</a></li>
                    <li><a href="/sobre" class="nav-link">Sobre</a></li>
                </ul>
                
                <div class="nav-actions">
                    <!-- Usuário não logado -->
                    <div sec:authorize="!isAuthenticated()">
                        <a href="/auth/login" class="btn btn-outline">Entrar</a>
                        <a href="/auth/registro" class="btn btn-primary">Criar Conta</a>
                    </div>
                    
                    <!-- Usuário logado -->
                    <div sec:authorize="isAuthenticated()" class="user-menu">
                        <span sec:authorize="hasRole('PREMIUM')" class="premium-badge">Premium</span>
                        <span class="user-name" sec:authentication="name">Usuário</span>
                        <a sec:authorize="!hasRole('PREMIUM')" href="/premium/upgrade" class="btn btn-primary btn-sm" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none;">✨ Upgrade</a>
                        <a href="/auth/logout" class="btn btn-outline btn-sm">Sair</a>
                    </div>
                </div>
            </nav>
        </div>
    </header>
</head>
</html>
